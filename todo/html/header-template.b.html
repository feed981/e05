<div class="header-container">
    <div class="hamburger">
    <div class="dropdown">
        <svg class="vbp-header-menu-button__svg" @click="toggleBars" :class="{ 'header-opend': this.dropdownviewHeader }">
            <line x1="0" y1="50%" x2="100%" y2="50%" class="top" shape-rendering="crispEdges" />
            <line x1="0" y1="50%" x2="100%" y2="50%" class="middle" shape-rendering="crispEdges" />
            <line x1="0" y1="50%" x2="100%" y2="50%" class="bottom" shape-rendering="crispEdges" />
          </svg>
        <!--<i class="font-awesome-i fa-solid fa-bars" @click="toggleBars"></i>-->
        <ul v-show="dropdownviewHeader" class="dropdown-menu bars">
        
            <li v-if="!isNeedSpeak" @click="$emit('update:isNeedSpeak', true )">
                <i class="font-awesome-i fa-solid fa-headset"></i><span>|　Voice reminder</span>
            </li>
            <li v-if="isNeedSpeak" @click="$emit('update:isNeedSpeak', false )">
                <i class="font-awesome-i fa-solid fa-microphone-slash"></i><span>|　Slash sound speak</span>
            </li>

            <li v-if="isLight" @click="$emit('update:isLight', false )">
                <i class="font-awesome-i fa-solid fa-toggle-on"></i><span>|　Toggle dark-mode</span>
            </li>
            <li v-if="!isLight" @click="$emit('update:isLight', true )">
                <i class="font-awesome-i fa-solid fa-toggle-off"></i><span>|　Toggle light-mode</span>
            </li>
            <li v-if="!isSendEmail" @click="$emit('update:formData', {  isAllTasklist: false, isCategoryTasklist: false, isCategoryArchiveTasklist: false, isSendEmail: true, isCategoryVisible: false, isImport: false, isTaskVisible: false, isEdit: false })">
                <i class="font-awesome-i fa-solid fa-envelope"></i><span>|　Feedback</span>
            </li>
            <!-- todo: close other div-->
            <li v-if="!isSendEmail" @click="resetdata()">
                <i class="font-awesome-i fa-solid fa-toilet-paper"></i><span>|　Clear all data</span>
            </li>
            <li v-if="!isSendEmail" class="dropdown" @click="toggleDropdown">
                <i class="font-awesome-i fa-solid fa-file-export"></i><span>|　View / Import / Export</span>
                <ul v-show="dropdownviewExport" class="dropdown-menu dropdown-menu-sub">
                <li @click="viewAs('json')"><i class="font-awesome-i fa-solid fa-eye"></i>|　View as JSON</li>
                <li @click="viewAs('html')"><i class="font-awesome-i fa-solid fa-eye"></i>|　View as HTML</li>
                <li @click="$emit('update:formData', { isAllTasklist: false, isCategoryTasklist: false, isCategoryArchiveTasklist: false, isSendEmail: false, isCategoryVisible: false, isImport: true, isTaskVisible: false, isEdit: false })">
                    <i class="font-awesome-i fa-solid fa-file-import"></i>|　Import as JSON
                </li>
                <li @click="exportAs('json')"><i class="font-awesome-i fa-solid fa-file-export"></i>|　Export as JSON</li>
                <li @click="exportAs('html')"><i class="font-awesome-i fa-solid fa-file-export"></i>|　Export as HTML</li>
                <li @click="dropdownviewExport = true"><i class="font-awesome-i fa-solid fa-xmark"></i>|　Close the menu</li>
                </ul>
            </li>
            <li v-if="!isSendEmail && !isCategoryVisible && !isImport" 
                @click="$emit('update:formData', {  isAllTasklist: false, isCategoryTasklist: false, isCategoryArchiveTasklist: false, isSendEmail: false, isCategoryVisible: true, isImport: false, isTaskVisible: false, isEdit: false })">
                <i class="font-awesome-i fa-solid fa-icons"></i><span>|　Add new category</span>
            </li>
             <li v-if="!isSendEmail && !isImport && !isTaskVisible" 
                @click="$emit('update:formData', {  isAllTasklist: false, isCategoryTasklist: false, isCategoryArchiveTasklist: false, isSendEmail: false, isCategoryVisible: false, isImport: false, isTaskVisible: true, isEdit: false })">
                <i class="font-awesome-i fa-solid fa-list-check"></i><span>|　Add new task</span>
            </li>
            <li v-if="isAllTasklist || isCategoryArchiveTasklist || isCategoryTasklist || isSendEmail || isCategoryVisible || isImport || isTaskVisible || isEdit" 
                @click="$emit('update:formData', { isAllTasklist: true, isCategoryTasklist: false, isCategoryArchiveTasklist: false, isSendEmail: false, isCategoryVisible: false, isImport: false, isTaskVisible: false, isEdit: false })">
                <i class="font-awesome-i fa-solid fa-arrow-left"></i><span>|　Pre page</span>
            </li>
        </ul>
    </div>
    </div>
    <div title="Close this page and go back to alltasklist!" v-if="isCategoryTasklist || isCategoryArchiveTasklist || isSendEmail || isCategoryVisible || isImport || isTaskVisible || isEdit" class="closeicon">
        <i @click="$emit('update:formData', { isAllTasklist: true, isCategoryArchiveTasklist: false, isSendEmail: false, isCategoryVisible: false, isImport: false, isTaskVisible: false, isEdit: false })" class="font-awesome-i fa-regular fa-circle-xmark"></i>
    </div>
</div>