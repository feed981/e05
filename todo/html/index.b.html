<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Todo times</title>
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon"> 
  <script src="https://cdn.jsdelivr.net/npm/vue@3/dist/vue.global.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/notyf/notyf.min.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/notyf/notyf.min.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Piedra&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Creepster&family=Nosifer&family=Rubik+Glitch&family=Nabla&family=Butcherman&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <style>
    body {
    font-family: Arial, sans-serif;
    background-color: #1E1E1E;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
  }


  .todo-container {
    background-color: #2C2C2C;
    color: #e0e0e0;
    padding: 20px;
    border-radius: 10px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    text-align: center;
    width: 400px;
  }

  .category-container{
    background-color: #1E1E1E;
    color: #e0e0e0;
    padding: 20px;
    border-radius: 10px;
    text-align: left;
    width: 400px;
    box-shadow: 0 4px 8px rgba(0.1, 0, 0, 0.1);
  }

  .basic-container{
    color: #e0e0e0;
  }

  .category-openup {
  margin-left: auto; /* ËÆì `‚ñº` Èù†ÊúÄÂè≥ */
  padding: 0 8px;
}

 
  h1{
    font-size: 1.5em;
    margin-bottom: 20px;
  }

  .input-container {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
  }
  .input-container textarea{
    width: 100%;
    height: 100px;
    box-shadow: rgba(50, 50, 93, 0.25) 0px 50px 100px -20px, rgba(0, 0, 0, 0.3) 0px 30px 60px -30px, rgba(10, 37, 64, 0.35) 0px -2px 6px 0px inset;
  }

  input[type="text"] ,input[type="email"] {
    width: 100%;
    padding: 10px;
    border: 1px solid #ccc;
    border-radius: 5px;
    margin-right: 10px;
    box-shadow: rgba(50, 50, 93, 0.25) 0px 50px 100px -20px, rgba(0, 0, 0, 0.3) 0px 30px 60px -30px, rgba(10, 37, 64, 0.35) 0px -2px 6px 0px inset;
  }



  .font-awesome-i-inbutton{
    background-color: #26212100;
    color: white;
    border: none;
    cursor: pointer;
    transition: background-color 0s;
    padding: 0px;
  }

  .font-awesome-i-inbutton:hover{
    background-color: #26212100;
  }



  .flex-container {
  display: flex;
  align-items: stretch; /* ËÆìÂ≠êÂÖÉÁ¥†ÈÉΩÊíêÊªøÁà∂ÂÆπÂô®ÁöÑÈ´òÂ∫¶ */
  gap: 8px; /* ÈÅøÂÖçÂÖÉÁ¥†‰πãÈñìÂ§™Êì† */
}
.button-container {
  display: flex;
  justify-content: space-between;
  margin-top: 10px;
}

  
  .format-label {
    display: block;
    margin-top: 10px;
    font-size: 0.9em;
    color: #333;
  }

  .download-button {
    margin-top: 20px;
    display: block;
  }


  input[type=checkbox]{
	height: 0;
	width: 0;
	visibility: hidden;
}



  .button-container {
    display: flex;
      justify-content: space-between;
      align-items: center;
}

     /* üîπ ÁôΩËâ≤Ê®°Âºè */
     .light-mode {
      background-color: #414242;
      color: #333;
    }

    .light-mode .todo-container {
      background-color: #fff;
      color: #000;
    }

    .light-mode .category-container {
      background-color: #414242;
      color: #fff;
    }

    .light-mode select ,
     .light-mode .date{
      background-color: #69affa;
    }

    .light-mode select:hover ,
     .light-mode .date:hover{
      background-color: #2969ad;
    }
    .light-mode .basic-container{
    color: #000;
  }

  .light-mode .font-awesome-i-inbutton{
    background-color: #dcdcdc3b;
  }

  .light-mode .font-awesome-i-inbutton:hover{
    background-color: #dcdcdc3b;
  }


    .light-mode .todo-item {
      color: #fff;
  border-left: 4px solid #1ba0ef;
  border-bottom: 4px solid #0056b3;
  background-color: #7bb0e9;
    border-radius: 5px;
}


.light-mode .completed {
  background: #5f6161;
    border-left: 4px solid rgb(199, 199, 199);
    border-bottom: 4px solid #575656;

}

.light-mode .category {
  background-color: #999797;
  color: #ebebeb;
}


.light-mode  .menu i{
  color: #000;
}

.light-mode .font-awesome-i{
  color: #000;
}
.light-mode .heading-style1 {
    font-family: 'Creepster', cursive;
    color: #69affa;
    text-shadow: 2px 2px 4px rgba(95, 110, 192, 0.3);
  }


.date{
  padding: 8px 12px;
  border: 2px;
    border-radius: 5px;
    background: #39b2f8;
    color: #fff;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: rgba(0, 0, 0, 0.17) 0px -23px 25px 0px inset, rgba(0, 0, 0, 0.15) 0px -36px 30px 0px inset, rgba(0, 0, 0, 0.1) 0px -79px 40px 0px inset, rgba(0, 0, 0, 0.06) 0px 2px 1px, rgba(0, 0, 0, 0.09) 0px 4px 2px, rgba(0, 0, 0, 0.09) 0px 8px 4px, rgba(0, 0, 0, 0.09) 0px 16px 8px, rgba(0, 0, 0, 0.09) 0px 32px 16px;

}

.date:hover {
  /* background-color: #2467cc; */
  background-color: #0879c5;
}

    select {
    padding: 8px 12px;
    border-radius: 5px;
    background: #39b2f8;
    color: #fff;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: rgba(0, 0, 0, 0.17) 0px -23px 25px 0px inset, rgba(0, 0, 0, 0.15) 0px -36px 30px 0px inset, rgba(0, 0, 0, 0.1) 0px -79px 40px 0px inset, rgba(0, 0, 0, 0.06) 0px 2px 1px, rgba(0, 0, 0, 0.09) 0px 4px 2px, rgba(0, 0, 0, 0.09) 0px 8px 4px, rgba(0, 0, 0, 0.09) 0px 16px 8px, rgba(0, 0, 0, 0.09) 0px 32px 16px;

}

/* ÊªëÈº†Êá∏ÂÅúÊôÇËÆäÂåñ */
select:hover {
  background-color: #0879c5;
}

/* ÈªûÊìäÊôÇÁöÑÊ®£Âºè */
select:focus {
    outline: none;
    border-color: #ffffff;
    box-shadow: 0 0 5px rgba(4, 80, 42, 0.5);
}

/* ‰∏ãÊãâÈÅ∏ÂñÆÁöÑÁÆ≠È†≠Ê®£Âºè */
select::-ms-expand {
    display: none; /* Èö±Ëóè IE ÁöÑÁÆ≠È†≠ */
}


.category {
  background-color: #494848;
  border-left: 4px solid rgb(56, 56, 56);
  border-bottom: 4px solid #1d1e1f;
  padding: 10px 12px;
  border-radius: 5px;
  cursor: pointer;
  margin-bottom: 5px;
  transition: all 0.3s ease;
  box-shadow: rgba(0, 0, 0, 0.17) 0px -23px 25px 0px inset, rgba(0, 0, 0, 0.15) 0px -36px 30px 0px inset, rgba(0, 0, 0, 0.1) 0px -79px 40px 0px inset, rgba(0, 0, 0, 0.06) 0px 2px 1px, rgba(0, 0, 0, 0.09) 0px 4px 2px, rgba(0, 0, 0, 0.09) 0px 8px 4px, rgba(0, 0, 0, 0.09) 0px 16px 8px, rgba(0, 0, 0, 0.09) 0px 32px 16px;

}

.category-content {
    /* display: none; */
    cursor: pointer;
    padding-left: 15px;
}

.todo-item {
  border-left: 4px solid #359bd6;
  border-bottom: 4px solid #0056b3;
  background-color: #2e94cf;
    padding: 5px;
    margin: 5px 0;
  border-radius: 5px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    word-wrap: break-word; 
    box-shadow: rgba(0, 0, 0, 0.17) 0px -23px 25px 0px inset, rgba(0, 0, 0, 0.15) 0px -36px 30px 0px inset, rgba(0, 0, 0, 0.1) 0px -79px 40px 0px inset, rgba(0, 0, 0, 0.06) 0px 2px 1px, rgba(0, 0, 0, 0.09) 0px 4px 2px, rgba(0, 0, 0, 0.09) 0px 8px 4px, rgba(0, 0, 0, 0.09) 0px 16px 8px, rgba(0, 0, 0, 0.09) 0px 32px 16px;

}

.completed {
  color: #fff;
    background: #6e6e6e;
    border-left: 4px solid #2C2C2C;
    border-bottom: 4px solid #414141;
}

.dropdown {
    position: relative;
    display: inline-block;
    margin-right: 20px;
    cursor: pointer;
    z-index: 9999;
}


.dropdown-menu {
    position: absolute;
    top: 30px;
    left: 0;
    color: #e0e0e0;
    background: #2C2C2C;
    box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.2);
    list-style: none;
    padding: 0;
    margin: 0;
    width: 150px;
    transition: all 0.3s ease;
}

.dropdown-menu li {
    padding: 10px;
    cursor: pointer;
}

.dropdown-menu li:hover {
    background: #6a7075;
}

.dropdown span {
    font-size: 24px;
    cursor: pointer;
}

.font-awesome-i {
  cursor: pointer;
  color: #fff;
}



.text-content {
    flex: 1;  /* ËÆìÊñáÂ≠óÂÖßÂÆπÂç†Áî®Ââ©È§òÁ©∫Èñì */
    word-wrap: break-word;  /* ÂÖÅË®±Èï∑ÂñÆÂ≠óÊèõË°å */
    min-width: 0;  /* Á¢∫‰øùÂèØ‰ª•Ê≠£Á¢∫ÊèõË°å */
    text-align: left;
}

.notyf__toast {
    max-width: 300px; /* Ë®≠ÂÆöÊúÄÂ§ßÂØ¨Â∫¶ */
    white-space: normal; /* ÂÖÅË®±ÊèõË°å */
    word-break: break-word; /* ÈÅøÂÖçË∂ÖÂá∫ÂÆπÂô® */
}

        
.menu {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
        }

        .menu i {
            border: none;
            color: white;
            border-radius: 10px;
            cursor: pointer;
            transition: 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .menu i img {
            width: 40px;
            height: 40px;
        }

        .menu i:active {
            transform: scale(0.95);
        }

        /* Tooltip Style */
        .menu i::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 100%; /* Move tooltip above the button */
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 14px;
            white-space: nowrap;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, transform 0.2s ease;
            z-index: 10; /* Ensure it appears above everything */
            pointer-events: none; /* Prevent interaction */
        }

        .menu i:hover::after {
            opacity: 1;
            visibility: visible;
            transform: translateX(-50%) translateY(-5px); /* Slight upward animation */
        }
        .heading-style1 {
            font-family: 'Creepster', cursive;
            color: #1287ca;
            text-shadow: 2px 2px 4px rgba(1, 1, 32, 0.3);
            font-size: 2.5em;
            text-align: center;
            margin-bottom: 20px;

        }
        
@media screen and (max-width: 768px) {
  .todo-container {
    background: #2b2b2b;
    color: #E0E0E0;
    border-radius: 10px;
    text-align: center;
    width: 300px;
    box-shadow: rgba(0, 0, 0, 0.17) 0px -23px 25px 0px inset, rgba(0, 0, 0, 0.15) 0px -36px 30px 0px inset, rgba(0, 0, 0, 0.1) 0px -79px 40px 0px inset, rgba(0, 0, 0, 0.06) 0px 2px 1px, rgba(0, 0, 0, 0.09) 0px 4px 2px, rgba(0, 0, 0, 0.09) 0px 8px 4px, rgba(0, 0, 0, 0.09) 0px 16px 8px, rgba(0, 0, 0, 0.09) 0px 32px 16px;
  }

  .category-container{
    background: #2b2b2b;
    color: #E0E0E0;
    border-radius: 10px;
    text-align: center;
    width: 300px;
    box-shadow: rgba(0, 0, 0, 0.17) 0px -23px 25px 0px inset, rgba(0, 0, 0, 0.15) 0px -36px 30px 0px inset, rgba(0, 0, 0, 0.1) 0px -79px 40px 0px inset, rgba(0, 0, 0, 0.06) 0px 2px 1px, rgba(0, 0, 0, 0.09) 0px 4px 2px, rgba(0, 0, 0, 0.09) 0px 8px 4px, rgba(0, 0, 0, 0.09) 0px 16px 8px, rgba(0, 0, 0, 0.09) 0px 32px 16px;
  }
  .light-mode{
    background-color: #fff;
  }
  .light-mode .todo-container {
      background-color: #fff;
      color: #000;
      border-radius: 10px;
      text-align: center;
      width: 300px;
      box-shadow: rgba(50, 50, 93, 0.25) 0px 50px 100px -20px, rgba(0, 0, 0, 0.3) 0px 30px 60px -30px, rgba(10, 37, 64, 0.35) 0px -2px 6px 0px inset;
    }
    

    .light-mode .category-container{
      background-color: #fff;
      color: #000;
      border-radius: 10px;
      text-align: center;
      width: 300px;
      box-shadow: rgba(50, 50, 93, 0.25) 0px 50px 100px -20px, rgba(0, 0, 0, 0.3) 0px 30px 60px -30px, rgba(10, 37, 64, 0.35) 0px -2px 6px 0px inset;
    }

    .menu i{
      font-size: 22px;
    }

    .input-container2 {
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
    width: 100%;
  }

  .input-container2   .input-text{
    border-radius: 0px 5px 5px 0px;
    margin: 0px 0px 10px -20px;
  }
}

</style>
</head>
<body>
  <div id="app">

        <div class="menu">
          <i data-tooltip="toggle_on the light" v-if="isLight" @click="isLight = false" class="font-awesome-i fa-solid fa-toggle-on"></i>
          <i data-tooltip="toggle_off the light" v-if="!isLight" @click="isLight = true" class="font-awesome-i fa-solid fa-toggle-off"></i>
          <i v-if="!isSendEmail" data-tooltip="feedback" @click="isSendEmail = true" class="font-awesome-i fa-solid fa-envelope"></i>
          <div v-if="!isSendEmail" class="dropdown" @click="toggleDropdown('dropdownview', true)">
            <i data-tooltip="view or export the data" class="font-awesome-i fa-solid fa-file-export"></i>
          <ul v-show="dropdownview" class="dropdown-menu">
            <li @click="viewAs('json')">View as JSON</li>
            <li @click="viewAs('html')">View as HTML</li>
            <li @click="exportAs('json')">Export as JSON</li>
            <li @click="exportAs('html')">Export as HTML</li>
            <li @click="toggleDropdown('dropdownview', false)"><i data-tooltip="close" class="font-awesome-i fa-regular fa-circle-xmark"></i></li>
          </ul>
        </div>
      </div>

    <div v-if="isSendEmail" class="todo-container">
      <div class="card">
        <h1 class="heading-style1">FEEDBACK!</h1>
          <form @submit.prevent="handleSubmit">
            <div class="input-container">
              <input type="email" v-model="formData.to_email" required placeholder="recipient@example.com" > 
              <input type="text" style="margin-right: 0px;" v-model="formData.from_name" required placeholder="Enter your name..." > 
            </div>
              <div class="input-container">
              <textarea v-model="formData.message" required placeholder="Enter your message here..." ></textarea>
            </div>
            <div class="menu">
              <button class="font-awesome-i-inbutton" type="submit">
                <i data-tooltip="send email" class="font-awesome-i fa-solid fa-paper-plane"></i> 
              </button>
                <i data-tooltip="back" @click="isSendEmail = false" class="font-awesome-i fa-regular fa-circle-xmark"></i>
              </div>
              <div class="status" :class="{ error: isError }" v-if="status">{{ status }}</div>
          </form>
      </div>
    </div>

    <div v-if="!isCategoryVisible && !isSendEmail" class="todo-container">

        <h1 class="heading-style1">TODOLIST!</h1>

      <div class="button-container">
        <div class="flex-container">
          <div class="menu">
          <i data-tooltip="add category" @click="isCategoryVisible = true" class="font-awesome-i fa-solid fa-add"></i>
        </div>
          <select v-model="selectedCategory">
            <option value="">category</option>
            <option v-for="(todos, category) in todoList" :key="category" :value="category">
              {{ category }}
            </option>
          </select>
        </div>

          <input class="date" type="date" v-model="newTodo.date">
        </div>

        <div class="button-container">
          <input type="text" v-model="newTodo.text" placeholder="Enter a task..." required>
          <div class="menu">
            <i data-tooltip="send" @click="addTodo" class="font-awesome-i fa-solid fa-paper-plane"></i>
            </div>
        </div>
    </div>

    <div v-if="isCategoryVisible && !isSendEmail" class="todo-container">
      
          <h1 class="heading-style1">new CATEGORY!</h1>
          <div class="input-container" >
            <input type="text" style="margin-right: 0px;" v-model="newCategory" placeholder="Enter a new category..." required>
          </div>
            <div class="menu">
              <i data-tooltip="send" @click="saveCategory" class="font-awesome-i fa-solid fa-paper-plane"></i>
              <i data-tooltip="back" @click="isCategoryVisible = false" class="font-awesome-i fa-regular fa-circle-xmark"></i>
            </div>
      </div>
      <br>
      <div v-if="isListVisible && !isSendEmail" class="category-container">
        <div v-for="(todos, category) in todoList" :key="category">
          <div class="category" @click="toggleCategory(category)">
            <div class="menu">
              <i data-tooltip="remove category" v-if="isCategoryVisible" @click.stop="removeCategory(category)" class="font-awesome-i fa-solid fa-trash"></i>
              <span class="category-name">{{ category }}</span><span v-if="todos.length === 0">„ÄÄ(No tasks available.)</span>
              <i data-tooltip="dropdown this category"  class="font-awesome-i category-openup fa-solid fa-chevron-down"></i>
            </div>
          </div>
          
          <div v-show="expandedCategories.includes(category)" class="category-content">
            <div @click="checkTodo(category, index)"  v-for="(todo, index) in sortedTodos(todos)" :key="index" class="todo-item" :class="{ completed: todo.completed }">
              <span class="text-content">{{ todo.date }}„ÄÄ{{ todo.text }}</span>
              <div class="menu">
                <i data-tooltip="remove todo"  @click="removeTodo(category, index)" class="font-awesome-i fa-solid fa-trash"></i>
                </div>
            </div>
          </div>
        </div>

      </div>

    </div>

<script src="https://d2luynvj2paf55.cloudfront.net/t/6974850989e8a6a37d36f56eee8fe955.min.js"></script>
</body>
</html>
